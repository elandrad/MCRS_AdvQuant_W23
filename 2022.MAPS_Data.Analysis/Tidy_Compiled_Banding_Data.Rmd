---
title: "MAPS_DataAnalysis"
author: "Phyl"
date: "2022"
output: html_document
---
loading packages
```{r}
install.packages("readr")
library(readr)

install.packages("tidyverse")
library(tidyverse)

install.packages("dplyr")
library(dplyr)
```

First, import data.
```{r}
Compiled_Banding_Data <- read_csv("C:/Users/phyli/OneDrive/Desktop/R_Adv.Quant/MAPS_2022Analysis/Compiled MAPS Data for Prado Basin Station - All Banding Data - .csv")

View(Compiled_Banding_Data)

View(Tidy_Compiled_Banding_Data)


glimpse(Compiled_Banding_Data)

```
use mutate function to change the following:
banding to a factor
skull and cl. protrubance to factor
net_number should be changed to be a factor
change date from character to date (can filter out month and year)

```{r}
Tidy_Compiled_Banding_Data <- Compiled_Banding_Data %>%
  mutate(Band_Number = as.character(Band_Number),
         How_Aged_2 = as.factor(How_Aged_2),
         How_Aged_1 = as.factor(How_Aged_1), 
         Sex = as.factor(Sex), 
         How_Sexed_2 = as.factor(How_Sexed_2), 
         How_Sexed_1 = as.factor(How_Sexed_1), 
         Skull = as.factor(Skull),
         CL_PROT = as.factor(CL_PROT),
         BR_PATCH = as.factor(BR_PATCH),
         FAT = as.factor(FAT),
         BODY_MLT = as.factor(BODY_MLT),
         FF_MOLT = as.factor(FF_MOLT),
         FF_WEAR = as.factor(FF_WEAR),
         JUV_BDY_PL = as.factor(JUV_BDY_PL),
         Band_Size = as.factor(Band_Size),
         Net_Number = as.factor(Net_Number)) %>%
  mutate(Date = as.Date(Date,format = "%m.%d.%Y"))


View(Tidy_Compiled_Banding_Data)

glimpse(Tidy_Compiled_Banding_Data)
```

Species Count Table
```{r}
SpeciesCountTable <- Tidy_Compiled_Banding_Data %>%
  count(ALPHA_Code)

SpeciesCountTable

```

Depicting Species Captured
```{r}
SpeciesCountGraph <- ggplot(Tidy_Compiled_Banding_Data,aes(x=ALPHA_Code)) + 
  geom_bar()

SpeciesCountGraph

```

-----------------------------------------
notes for making matrix
instead of mark number use the band number

need the following columns
1) band id
(optional) net # (only necessary if we need to analyze where recaptures were caught)
3) list year 2022 

^ this might not work

instead, to measure species abundance, may be beneficial 

visualizing birds/species per session
bar-plot; x as date y - total counts

